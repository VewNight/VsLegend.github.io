<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/WangJwi/assets/images/logo.png">

<title>Java反射机制 | WangJwi</title>

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Java反射机制 | WangJwi</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Java反射机制" />
<meta name="author" content="wjw" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Java在编译之后会生成一个class文件，反射通过字节码文件找到其类中的方法和属性等。" />
<meta property="og:description" content="Java在编译之后会生成一个class文件，反射通过字节码文件找到其类中的方法和属性等。" />
<link rel="canonical" href="http://localhost:4000/WangJwi/JAVA-reflection/" />
<meta property="og:url" content="http://localhost:4000/WangJwi/JAVA-reflection/" />
<meta property="og:site_name" content="WangJwi" />
<meta property="og:image" content="http://localhost:4000/WangJwi/assets/images/11.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-21T00:00:00+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/WangJwi/assets/images/11.jpg" />
<meta property="twitter:title" content="Java反射机制" />
<script type="application/ld+json">
{"datePublished":"2021-05-21T00:00:00+08:00","author":{"@type":"Person","name":"wjw"},"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/WangJwi/JAVA-reflection/"},"url":"http://localhost:4000/WangJwi/JAVA-reflection/","description":"Java在编译之后会生成一个class文件，反射通过字节码文件找到其类中的方法和属性等。","image":"http://localhost:4000/WangJwi/assets/images/11.jpg","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/WangJwi/assets/images/logo.png"},"name":"wjw"},"headline":"Java反射机制","dateModified":"2021-05-21T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link href="/WangJwi/assets/css/screen.css" rel="stylesheet">

<link href="/WangJwi/assets/css/main.css" rel="stylesheet">

<script src="/WangJwi/assets/js/jquery.min.js"></script>

</head>




<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/WangJwi/">
    <img src="/WangJwi/assets/images/logo.png" alt="WangJwi">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                
                <li class="nav-item">
                
                <a class="nav-link" href="/WangJwi/index.html">Blog</a>
                </li>

                <li class="nav-item">
                <a class="nav-link" href="/WangJwi/about">About</a>
                </li>







                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://github.com/VsLegend"><i class="fab fa-github"></i> Fork on Github</a>
                </li>

                <script src="/WangJwi/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/WangJwi/assets/js/lunrsearchengine.js"></script>

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">WangJwi</h1>
    <p class="lead">
        WangJwi`s Blog.
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Java反射机制&url=http://localhost:4000/WangJwi/JAVA-reflection/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http://localhost:4000/WangJwi/JAVA-reflection/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/WangJwi/JAVA-reflection/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="/WangJwi/assets/images/avatar.png" alt="WangJwi">
                        
                    </div>
                    <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left">
                        <a target="_blank" class="link-dark" href="https://www.wowthemes.net">WangJwi</a><a target="_blank" href="https://twitter.com/" class="btn follow">Follow</a>
                        <span class="author-description">This is the author box. Write a short description of the author here. You are currently previewing Mediumish demo, a Jekyll template compatible with Github pages.</span>
                    </div>
                </div>
                

                <!-- Post Title -->
                <h1 class="posttitle">Java反射机制</h1>

            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid" src="/WangJwi/assets/images/11.jpg" alt="Java反射机制">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                <!-- End Toc -->
                <h2 id="java反射机制">Java反射机制</h2>

<p>参考：<a href="https://docs.oracle.com/javase/tutorial/reflect/index.html">The Reflection API</a></p>

<h3 id="反射原理">反射原理：</h3>
<p>Java在编译之后会生成一个class文件，反射通过字节码文件找到其类中的方法和属性等。</p>

<h3 id="反射的用途">反射的用途：</h3>
<p>反射功能通常用于检查或修改Java虚拟机运行中（runtime）的应用程序的行为。反射是一种强大的技术，可以运行原本不可能的操作。</p>

<ul>
  <li>在运行中分析类的能力，可以通过完全限定类名创建类的对象实例。</li>
  <li>在运行中查看和操作对象，可以遍历类的成员变量。</li>
  <li>反射允许代码执行非反射代码中非法的操作，可以检索和访问类的私有成员变量，包括私有属性、方法等。</li>
</ul>

<p>注意：要有选择的使用反射功能，如果可以直接执行操作，那么最好不要使用反射。</p>

<h3 id="反射的缺点">反射的缺点：</h3>

<ul>
  <li>额外的性能开销（<strong>Performance Overhead</strong>）：由于反射涉及动态类型的解析，它无法执行某些Java虚拟机优化，因此反射操作的性能通常要比非反射操作慢。</li>
  <li>安全限制（<strong>Security Restrictions</strong>）：反射需要运行时操作权限，此操作可能在一些安全管理器下不被允许。</li>
  <li>内部泄露（<strong>Exposure of Internals</strong>）：由于反射允许代码执行非反射代码中非法的操作（例如访问私有字段和方法），因此使用反射可能会导致意外的副作用，这可能会使代码无法正常工作并可能破坏可移植性。反射性代码破坏了抽象，因此可能会随着平台的升级而改变行为。</li>
</ul>

<h3 id="获取对象类的方式">获取对象类的方式:</h3>

<ol>
  <li><strong>Object.getClass()</strong>。从一个实例对象中获取它的类。这仅适用于继承自Object的引用类型（当然Java的类默认继承于Object）。</li>
</ol>

<pre><code class="language-Java">Map&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();
Class&lt;? extends Map&gt; aClass = hashMap.getClass();
String text = "text";
Class&lt;? extends String&gt; aClass1 = text.getClass();
</code></pre>

<pre><code class="language-Java">// Object类
public final native Class&lt;?&gt; getClass();
</code></pre>

<ol>
  <li><strong>XXX.class</strong>。直接从未实例化的类获取类。</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Class&lt;Integer&gt; integerClass = int.class;
Class&lt;HashMap&gt; hashMapClass = HashMap.class;
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li><strong>Class.forName()</strong>。通过完全限定类名获取类。即包名加类名（java.util.HashMap）。否则会报找不到类错误。</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>Class&lt;HashMap&gt; hashMapClass = Class.forName("java.util.HashMap");
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>// class类
public static Class&lt;?&gt; forName(String className)
            throws ClassNotFoundException {
    Class&lt;?&gt; caller = Reflection.getCallerClass();
    return forName0(className, true, ClassLoader.getClassLoader(caller), caller);
}
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li><strong>Integer.TYPE</strong>。基本类型的包装类通过TYPE获取类。都是Java早期版本的产物，已过时。</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>// Integer
@SuppressWarnings("unchecked")
public static final Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass("int");


// Double
@SuppressWarnings("unchecked")
public static final Class&lt;Double&gt;   TYPE = (Class&lt;Double&gt;) Class.getPrimitiveClass("double");
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>通过反射类ClassAPI获取类。注意，只有在已经直接或间接获得一个类的情况下，才可以访问这些API。</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>try {
  Class&lt;?&gt; className = Class.forName("java.lang.String");
  // 获取父类
  Class&lt;?&gt; superclass = className.getSuperclass();
  // 返回调用类的成员变量，包括所有公共的类、接口和枚举
  Class&lt;?&gt;[] classes = className.getClasses();
  // 返回调用类的依赖，包括所有类、接口和显式声明的枚举
  Class&lt;?&gt;[] declaredClasses = className.getDeclaredClasses();
} catch (ClassNotFoundException e) {
  e.printStackTrace();
}
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="获取类的成员变量">获取类的成员变量：</h3>

<p>获取字段：</p>

<table>
  <thead>
    <tr>
      <th><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">Class</a> API</th>
      <th>是否是列表</th>
      <th>是否获取父类属性</th>
      <th>能否能获取私有字段</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredField-java.lang.String-">getDeclaredField()</a></td>
      <td>no</td>
      <td>no</td>
      <td>yes</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getField-java.lang.String-">getField()</a></td>
      <td>no</td>
      <td>yes</td>
      <td>no</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--">getDeclaredFields()</a></td>
      <td>yes</td>
      <td>no</td>
      <td>yes</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getFields--">getFields()</a></td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
    </tr>
  </tbody>
</table>

<p>获取方法：</p>

<table>
  <thead>
    <tr>
      <th><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">Class</a> API</th>
      <th>List of members?</th>
      <th>Inherited members?</th>
      <th>Private members?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethod-java.lang.String-java.lang.Class...-">getDeclaredMethod()</a></td>
      <td>no</td>
      <td>no</td>
      <td>yes</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class...-">getMethod()</a></td>
      <td>no</td>
      <td>yes</td>
      <td>no</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethods--">getDeclaredMethods()</a></td>
      <td>yes</td>
      <td>no</td>
      <td>yes</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethods--">getMethods()</a></td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
    </tr>
  </tbody>
</table>

<p>获取构造器：</p>

<table>
  <thead>
    <tr>
      <th><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">Class</a> API</th>
      <th>List of members?</th>
      <th>Inherited members?</th>
      <th>Private members?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructor-java.lang.Class...-">getDeclaredConstructor()</a></td>
      <td>no</td>
      <td>N/A1</td>
      <td>yes</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-">getConstructor()</a></td>
      <td>no</td>
      <td>N/A1</td>
      <td>no</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructors--">getDeclaredConstructors()</a></td>
      <td>yes</td>
      <td>N/A1</td>
      <td>yes</td>
    </tr>
    <tr>
      <td><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructors--">getConstructors()</a></td>
      <td>yes</td>
      <td>N/A1</td>
      <td>no</td>
    </tr>
  </tbody>
</table>

<h3 id="javalangreflectfield">java.lang.reflect.Field</h3>

<p>Field字段具有类型和值。Field提供访问属性对象类型信息的方法；以及获取和设置字段值的方法。</p>

<p><strong>获取字段类型：</strong></p>

<p>字段可以是原始类型或引用类型。</p>

<p>有八种基本类型：boolean，byte，short，int，long，char，float，和double。</p>

<p>引用类型是java.lang.Object类的直接或间接子类，包含接口，数组和枚举类型等 。</p>

<p><strong>获取字段修饰符：</strong></p>

<ul>
  <li>访问修饰符：public，protected，和private</li>
  <li>仅用于字段的控制运行时行为的修饰符：transient和volatile</li>
  <li>限制单实例的修饰符： static</li>
  <li>禁止值修改的修饰符： final</li>
  <li>注解</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>Class&lt;?&gt; className = Class.forName("java.util.HashMap");
Field table = className.getDeclaredField("table");
// 获取属性的名字
String name = table.getName();
// 获取属性的类型
Class&lt;?&gt; type = table.getType();
// 获取修饰符
int modifiers = table.getModifiers();
System.out.println(Modifier.toString(modifiers));
// 获取注解
Override annotation = table.getDeclaredAnnotation(Override.class);
Annotation[] declaredAnnotations = table.getDeclaredAnnotations();
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>获取和设置字段值：</strong></p>

<p>给定一个类的实例，可以使用反射来设置该类中字段的值。通常仅在特殊情况下无法以常规方式设置值时才执行此操作。因为这样的访问通常会违反该类的设计意图，所以应绝对谨慎地使用它。</p>

<p><strong>注意</strong>：通过反射设置字段的值会有一定的性能开销，因为必须进行各种操作，例如验证访问权限。从运行时的角度来看，效果是相同的，并且操作是原子的，就好像直接在类代码中更改了值一样。除此之外，反射会破坏Java原本的设定，列如可以重新设置final属性的值等。</p>

<p><strong>反射修改final修饰的属性值到JVM对String的优化：</strong></p>

<p>反射功能强大，能修改private以及final修饰的变量。如下代码中，展示了JVM的优化以及反射的一些劣势。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre>@Data
public class FieldReflectDemo {
  // 引用直接指向常量池中的常量值
  private final String constantStr = "FinalConstantStringField";
  // JVM优化了getter方法，直接将对constantStr引用全部替换成了常量
//  public String getConstantStr() {return "FinalConstantStringField";}


  // 在堆中新建了一个对象
  private final String newStr = new String("FinalNewStringField");
  
  public FieldReflectDemo(){}
    
    public static void main(String[] args) {
    FieldReflectDemo fieldReflectDemo = new FieldReflectDemo();
    try {
      Class&lt;?&gt; className = fieldReflectDemo.getClass();
      Field constantStr = className.getDeclaredField("constantStr");
      Field newStr = className.getDeclaredField("newStr");
      // 获取实例对象的字段值
      System.out.println("constantStr原：" + constantStr.get(fieldReflectDemo));
      System.out.println("newStr原：" + newStr.get(fieldReflectDemo));
      constantStr.setAccessible(true);
      newStr.setAccessible(true);
      constantStr.set(fieldReflectDemo, "New Filed Name");
      newStr.set(fieldReflectDemo, "New Filed Name");
      System.out.println("constantStr反射修改：" + constantStr.get(fieldReflectDemo));
      System.out.println("newStr反射修改：" + newStr.get(fieldReflectDemo));
    } catch (NoSuchFieldException | IllegalAccessException e) {
      e.printStackTrace();
    }
    System.out.println("constantStr实例对象值：" + fieldReflectDemo.getConstantStr());
    System.out.println("newStr实例对象值：" + fieldReflectDemo.getNewStr());
  }
  
  /**
   * 输出
   * constantStr原：FinalConstantStringField
   * newStr原：FinalNewStringField
   * constantStr反射修改：New Filed Name
   * newStr反射修改：New Filed Name
   * constantStr实例对象值：FinalConstantStringField
   * newStr实例对象值：New Filed Name
   */
}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>因为JVM在编译时期, 就把final类型的<strong>直接赋值的String</strong>进行了优化, 在编译时期就会把String处理成常量。反射成功将其值修改成功了，但是在它的get方法中，返回的不是当前变量，而是返回JVM优化好的一个常量值。</p>

<h3 id="javalangreflectmethod">java.lang.reflect.Method</h3>

<p>Method方法具有参数和返回值，并且方法可能抛出异常。Method提供获取参数信息、返回值的方法；它也可以调用（invoke）给定对象的方法。</p>

<p><strong>获取方法类型的信息：</strong></p>

<p>方法声明包含了方法名、修饰符、参数、返回类型以及抛出的多个异常。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre>public class MethodReflectDemo {


public MethodReflectDemo() {
  
private void getNothing(String name) {
  
public int getNumByName(String name) throws NullPointerException {
  if (StringUtils.isEmpty(name))
    throw new NullPointerException("名字为空");
  return name.length();
}


  public static void main(String[] args) {
    MethodReflectDemo methodReflectDemo = new MethodReflectDemo();
    try {
      Class&lt;? extends MethodReflectDemo&gt; demoClass = methodReflectDemo.getClass();
      Method method = demoClass.getDeclaredMethod("getNumByName", String.class);
      String name = method.getName();
      System.out.println("方法名：" + name);
      // 修饰符
      int modifiers = method.getModifiers();
      System.out.println("所有修饰符：" + Modifier.toString(modifiers));
      // 参数
      Parameter[] parameters = method.getParameters();
      // 返回类型
      Class&lt;?&gt; returnType = method.getReturnType();
      System.out.println("返回类型：" + returnType.getTypeName());
      // 异常
      Class&lt;?&gt;[] exceptionTypes = method.getExceptionTypes();
      System.out.println("");
    } catch (NoSuchMethodException e) {
      e.printStackTrace();
    }
  }
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="javalangreflectconstructor">java.lang.reflect.Constructor</h3>

<p>Constructor与Method相似，但有两个主要例外：第一，构造函数没有返回值；第二，构造函数的调用为给定的类创建对象的新实例。</p>

            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2021-05-21">21 May 2021</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/WangJwi/categories#Java">Java</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/WangJwi/categories#Reflection">Reflection</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/WangJwi/tags#Java">#Java</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/WangJwi/tags#反射">#反射</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="/WangJwi//powerful-things-markdown-editor/"> &laquo; Powerful things you can do with the Markdown editor</a>
            
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'demowebsite'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

            </div>
        </div>
    </div>

<!--End Comments
================================================== -->

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

</div>


<!-- Bottom Alert Bar
================================================== -->
<div class="alertbar">
	<div class="container text-center">
		<span><img src="/WangJwi/assets/images/logo.png" alt="WangJwi"> &nbsp; Never miss a <b>story</b> from us, subscribe to our newsletter</span>
        <form action="https://wowthemes.us11.list-manage.com/subscribe/post?u=8aeb20a530e124561927d3bd8&amp;id=8c3d2d214b" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
            <div class="mc-field-group">
            <input type="email" placeholder="Email" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
            <input type="submit" value="Subscribe" name="subscribe" class="heart">
            </div>
        </form>
	</div>
</div>

    
</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="/WangJwi/categories#Jekyll">Jekyll (14)</a>
                
                    <a class="mt-1 mb-1" href="/WangJwi/categories#tutorial">tutorial (12)</a>
                
                    <a class="mt-1 mb-1" href="/WangJwi/categories#web-development">web development (1)</a>
                
                    <a class="mt-1 mb-1" href="/WangJwi/categories#Java">Java (1)</a>
                
                    <a class="mt-1 mb-1" href="/WangJwi/categories#Reflection">Reflection (1)</a>
                
            
            
		</div>
	</div>
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                Copyright © 2021 WangJwi 
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish Jekyll Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="/WangJwi/assets/js/mediumish.js"></script>



<script src="/WangJwi/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//demowebsite.disqus.com/count.js"></script>


</body>
</html>
