
## 本地方法栈、虚拟机栈、程序计数器
随线程而生，随线程而灭，栈中的栈帧随方法的进入和退出有条不紊的进行进栈和出栈操作。

每个栈帧分配多少内存基本上在类结构确实时就已知的（运行期虚拟机会进行一定的优化），因此这几个区域的内存分配和回收都具备确定性。

## Java堆和方法区
这两个区域具有很显著的不确定性，一个接口的多个实现类需要的内存可能会不一样，一个方法所执行的不同分支中，所需的内存也可能不一样（一些分支可能会频繁创建对象），这部分内存的分配和回收是动态的。

不过方法区垃圾收集的性价比比较低，而Java堆尤其是其新生代中的回收成果特别高，通常可以回收70-90%的内存空间。

> 回收方法区主要包含两类，回收废弃的常量和不再使用的类型。